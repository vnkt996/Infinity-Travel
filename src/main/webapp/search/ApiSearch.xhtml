<?xml version="1.0" encoding="UTF-8" ?>
<!--
  - Created by Vrajesh Shah on 2021.10.23
  - Copyright Â© 2021 Vrajesh Shah. All rights reserved.
  -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core" >

    <ui:composition>
        <!-- 
        ===========================================================================
        |  Selecting the API SEARCH menu option displays this Dialog window       |
        |  for the user to search a country by name, code, or capital city name.  |
        ===========================================================================
        -->
        <p:dialog id="WeatherSearchDlg" header="Search Weather" widgetVar="WeatherSearchDialog"
                  modal="true" position="center" appendTo="@(body)"
                  showEffect="slide" hideEffect="fade" responsive="true" >

            <h:form id="WeatherSearchForm">
                <p:panel>                
                    <h:panelGrid columns="2">
                        <!--
                        ********************************
                        *        Location input        *
                        ********************************
                        -->
                        <p:outputLabel value="Loaction: " style="margin-right: auto" for="locationQuery"/>

                        <p:inputText id="locationQuery" value="#{apiSearchController.locationQuery}"
                        required="true" style="float:right" requiredMessage="Please Enter a Location to search!"
                                     placeholder="Enter location" >

                        </p:inputText>

                        <!--
                        ********************************
                        *        Forecast input        *
                        ********************************
                        -->
                        <p:outputLabel value="Forecast Days: " for="forecastDays"/>
                        <p:selectOneMenu id="forecastDays" value="#{apiSearchController.forecastDays}"
                                         required="true"  requiredMessage="Please Select the number of days you want to see the forecast for!" >

                            <f:selectItem itemLabel="Select Number of Days"   itemValue="" noSelectionOption="true"/>
                            <f:selectItem itemLabel="1" itemValue="1"/>
                            <f:selectItem itemLabel="2" itemValue="2"/>
                            <f:selectItem itemLabel="3" itemValue="3"/>
                        </p:selectOneMenu>
                    </h:panelGrid>

                    <h:panelGroup>
                        <br /><br />
                        <div align="center">
                            <!-- SUBMIT button -->
                            <p:commandButton value="Submit" icon="fas fa-arrow-up" styleClass="rounded-button"
                                             ajax="false" action="#{apiSearchController.performSearch()}" />
                            &nbsp;
                            <!-- CANCEL button -->
                            <p:commandButton value="Cancel" icon="fas fa-ban" styleClass="ui-button-outlined"
                                             onclick="PF('WeatherSearchDialog').hide()" immediate="true" />
                        </div>
                    </h:panelGroup>
                </p:panel>
            </h:form>
        </p:dialog>
    </ui:composition>
</html>
